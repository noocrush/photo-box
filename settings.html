<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>è®¾ç½® - å†™çœŸåŒ£å­</title>
  <link rel="stylesheet" href="styles/main.css">
  <style>
    /* è®¾ç½®é¡µç‰¹å®šæ ·å¼ */
    .settings-container {
      background: white;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      max-width: 800px;
      margin: 0 auto;
    }
    .settings-section {
      margin-bottom: 40px;
    }
    .settings-section h2 {
      font-size: 24px;
      margin-bottom: 20px;
      color: #333;
      border-bottom: 2px solid #3498db;
      padding-bottom: 5px;
    }
    .setting-item {
      margin-bottom: 25px;
    }
    .setting-item label {
      display: block;
      font-size: 16px;
      font-weight: bold;
      margin-bottom: 8px;
      color: #333;
    }
    .setting-item input[type="text"],
    .setting-item select {
      width: 100%;
      padding: 10px;
      font-size: 14px;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
    .setting-item input[type="checkbox"] {
      margin-right: 10px;
    }
    .setting-description {
      font-size: 14px;
      color: #666;
      margin-top: 5px;
      font-style: italic;
    }
    .btn {
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: background 0.3s;
    }
    .btn-primary {
      background: #3498db;
      color: white;
    }
    .btn-primary:hover {
      background: #2980b9;
    }
    .btn-secondary {
      background: #95a5a6;
      color: white;
      margin-left: 10px;
    }
    .btn-secondary:hover {
      background: #7f8c8d;
    }
    .status-message {
      display: inline-block;
      margin-left: 10px;
      color: #27ae60;
      font-weight: bold;
    }
    .settings-link {
      display: inline-block;
      padding: 10px 15px;
      background: #ffcccc; /* çº¢è‰²èƒŒæ™¯ */
      color: #ff0000; /* çº¢è‰²æ–‡å­— */
      text-decoration: none;
      border-radius: 4px;
      transition: background 0.3s;
    }
    .settings-link:hover {
      background: #ff9999; /* çº¢è‰²æ‚¬åœèƒŒæ™¯ */
    }
  </style>
</head>
<body>
  <!-- å·¦ä¾§å¯¼èˆªæ  -->
  <nav class="sidebar">
    <ul class="nav-menu">
      <li class="nav-item"><a href="index.html" class="nav-link"><span class="nav-icon">ğŸ </span> ä¸»é¡µ</a></li>
      <li class="nav-item"><a href="search.html" class="nav-link"><span class="nav-icon">ğŸ”</span> æœç´¢</a></li>
      <li class="nav-item"><a href="favorites.html" class="nav-link"><span class="nav-icon">â­</span> æ”¶è—</a></li>
      <li class="nav-item"><a href="settings.html" class="nav-link active"><span class="nav-icon">âš™ï¸</span> è®¾ç½®</a></li>
      <li class="nav-item"><a href="about.html" class="nav-link"><span class="nav-icon">â„¹ï¸</span> å…³äº</a></li>
    </ul>
  </nav>

  <div class="main-content">
    <div class="header">
      <h1>è®¾ç½®</h1>
    </div>

    <div class="settings-container">
      <div class="settings-section">
        <h2>å¿«æ·é”®è®¾ç½®</h2>
        <div class="setting-item">
          <p>è‡ªå®šä¹‰è½¯ä»¶çš„å¿«æ·é”®è®¾ç½®ï¼Œä»¥ä¾¿æ›´é«˜æ•ˆåœ°ä½¿ç”¨è½¯ä»¶ã€‚</p>
          <a href="shortcut-settings.html" class="settings-link">æ‰“å¼€å¿«æ·é”®è®¾ç½®</a>
        </div>
      </div>

      <div class="settings-section">
        <h2>å›¾ç‰‡æŸ¥çœ‹å™¨è®¾ç½®</h2>
        
        <div class="setting-item">
          <label for="wheel-mode">æ»šè½®æ¨¡å¼</label>
          <select id="wheel-mode">
            <option value="page">ç¿»é¡µ</option>
            <option value="zoom">ç¼©æ”¾</option>
            <option value="none">æ— æ“ä½œ</option>
          </select>
          <div class="setting-description">è®¾ç½®é¼ æ ‡æ»šè½®åœ¨å›¾ç‰‡æŸ¥çœ‹å™¨ä¸­çš„è¡Œä¸º</div>
        </div>

        <div class="setting-item">
          <label for="zoom-step">ç¼©æ”¾æ­¥é•¿ (%)</label>
          <input type="text" id="zoom-step" value="10">
          <div class="setting-description">è®¾ç½®æ¯æ¬¡æ»šè½®ç¼©æ”¾çš„ç™¾åˆ†æ¯”</div>
        </div>
      </div>

      <div class="settings-section">
        <h2>å…¶ä»–è®¾ç½®</h2>
        
        <div class="setting-item">
          <label>
            <input type="checkbox" id="show-tooltips"> æ˜¾ç¤ºå·¥å…·æç¤º
          </label>
          <div class="setting-description">è®¾ç½®æ˜¯å¦æ˜¾ç¤ºæŒ‰é’®å’ŒåŠŸèƒ½çš„å·¥å…·æç¤º</div>
        </div>
      </div>

      <div class="settings-section">
        <button class="btn btn-primary" id="save-settings">ä¿å­˜è®¾ç½®</button>
        <button class="btn btn-secondary" id="reset-settings">æ¢å¤é»˜è®¤</button>
        <span class="status-message" id="status-message"></span>
      </div>
    </div>
  </div>

  <script src="scripts/nav-handler.js"></script>
  <script>
    // DOMå…ƒç´ 
    const wheelMode = document.getElementById('wheel-mode');
    const zoomStep = document.getElementById('zoom-step');
    const showTooltips = document.getElementById('show-tooltips');
    const saveSettingsBtn = document.getElementById('save-settings');
    const resetSettingsBtn = document.getElementById('reset-settings');
    const statusMessage = document.getElementById('status-message');
    
    // åŠ è½½è®¾ç½®
    function loadSettings() {
      try {
        const settingsStr = localStorage.getItem('appSettings');
        if (settingsStr) {
          const settings = JSON.parse(settingsStr);
          
          // åº”ç”¨è®¾ç½®
          wheelMode.value = settings.wheelMode || 'page';
          zoomStep.value = settings.zoomStep || '10';
          showTooltips.checked = settings.showTooltips || true;
        }
      } catch (err) {
        console.error('åŠ è½½è®¾ç½®å¤±è´¥ï¼š', err);
      }
    }
    
    // ä¿å­˜è®¾ç½®
    function saveSettings() {
      try {
        const settings = {
          wheelMode: wheelMode.value,
          zoomStep: parseInt(zoomStep.value) || 10,
          showTooltips: showTooltips.checked
        };
        
        localStorage.setItem('appSettings', JSON.stringify(settings));
        
        // æ˜¾ç¤ºä¿å­˜æˆåŠŸæ¶ˆæ¯
        statusMessage.textContent = 'è®¾ç½®å·²ä¿å­˜ï¼';
        setTimeout(() => {
          statusMessage.textContent = '';
        }, 2000);
        
        return true;
      } catch (err) {
        console.error('ä¿å­˜è®¾ç½®å¤±è´¥ï¼š', err);
        statusMessage.textContent = 'ä¿å­˜å¤±è´¥ï¼';
        return false;
      }
    }
    
    // æ¢å¤é»˜è®¤è®¾ç½®
    function resetSettings() {
      // é»˜è®¤è®¾ç½®
      wheelMode.value = 'page';
      zoomStep.value = '10';
      showTooltips.checked = true;
      
      // ä¿å­˜é»˜è®¤è®¾ç½®
      saveSettings();
      
      statusMessage.textContent = 'å·²æ¢å¤é»˜è®¤è®¾ç½®ï¼';
      setTimeout(() => {
        statusMessage.textContent = '';
      }, 2000);
    }
    
    // ç»‘å®šäº‹ä»¶
    function bindEvents() {
      saveSettingsBtn.addEventListener('click', saveSettings);
      resetSettingsBtn.addEventListener('click', resetSettings);
    }
    
    // åˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', () => {
      loadSettings();
      bindEvents();
    });
  </script>
</body>
</html>